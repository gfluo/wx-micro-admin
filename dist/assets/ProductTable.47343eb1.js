import{d as e,B as a,D as l,r as t,o as d,e as i,f as n,g as o,w as s,L as r,E as c,p as u,j as p,i as b}from"./vendor.b59db1c2.js";import{b as m}from"./index.4706de98.js";import{_ as f}from"./index.f6c21bb3.js";const g={name:"userstable",setup(){const t=e(),d=a({address:"",openId:"",pageIndex:1,pageSize:10}),i=l([]),n=l(0),o=()=>{m({limit:d.pageSize,offset:d.pageSize*(d.pageIndex-1)}).then((e=>{i.value=e.data.activityList,n.value=e.data.total}))};o();const s=l(!1);let u=a({name:"",address:""}),p=-1;return{query:d,tableData:i,pageTotal:n,editVisible:s,form:u,handleAdd:()=>{t.push("/productAdd")},handlePageChange:e=>{d.pageIndex=e,o()},handleDelete:e=>{r.confirm("确定要删除吗？","提示",{type:"warning"}).then((()=>{c.success("删除成功"),i.value.splice(e,1)})).catch((()=>{}))},handleEdit:(e,a)=>{p=e,Object.keys(u).forEach((e=>{u[e]=a[e]})),s.value=!0},saveEdit:()=>{s.value=!1,c.success(`修改第 ${p+1} 行成功`),Object.keys(u).forEach((e=>{i.value[p][e]=u[e]}))}}}},h={class:"crumbs"},v=(e=>(u("data-v-15e80d5c"),e=e(),p(),e))((()=>n("i",{class:"el-icon-lx-cascades"},null,-1))),_=b(" 用户列表 "),x={class:"container"},C={class:"handle-box"},y=b("新增活动"),k=b("编辑 "),V=b("删除"),w={class:"pagination"},E={class:"dialog-footer"},j=b("取 消"),z=b("确 定");var I=f(g,[["render",function(e,a,l,r,c,u){const p=t("el-breadcrumb-item"),b=t("el-breadcrumb"),m=t("el-button"),f=t("el-table-column"),g=t("el-table"),I=t("el-pagination"),D=t("el-input"),T=t("el-form-item"),S=t("el-form"),q=t("el-dialog");return d(),i("div",null,[n("div",h,[o(b,{separator:"/"},{default:s((()=>[o(p,null,{default:s((()=>[v,_])),_:1})])),_:1})]),n("div",x,[n("div",C,[o(m,{type:"primary",icon:"el-icon-circle-plus-outline",onClick:r.handleAdd},{default:s((()=>[y])),_:1},8,["onClick"])]),o(g,{data:r.tableData,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:s((()=>[o(f,{prop:"id",label:"活动id",align:"center"}),o(f,{prop:"title",label:"活动标题"}),o(f,{prop:"amount",label:"活动金额"}),o(f,{prop:"describe",label:"活动描述"}),o(f,{prop:"link",label:"活动环节"}),o(f,{prop:"address",label:"地址"}),o(f,{prop:"startTime",label:"活动开始时间"}),o(f,{prop:"startTime",label:"活动结束时间"}),o(f,{label:"操作",width:"180",align:"center"},{default:s((e=>[o(m,{type:"text",icon:"el-icon-edit",disabled:"",onClick:a=>r.handleEdit(e.$index,e.row)},{default:s((()=>[k])),_:2},1032,["onClick"]),o(m,{type:"text",icon:"el-icon-delete",class:"red",disabled:"",onClick:a=>r.handleDelete(e.$index,e.row)},{default:s((()=>[V])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),n("div",w,[o(I,{background:"",layout:"total, prev, pager, next","current-page":r.query.pageIndex,"page-size":r.query.pageSize,total:r.pageTotal,onCurrentChange:r.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])]),o(q,{title:"编辑",modelValue:r.editVisible,"onUpdate:modelValue":a[3]||(a[3]=e=>r.editVisible=e),width:"30%"},{footer:s((()=>[n("span",E,[o(m,{onClick:a[2]||(a[2]=e=>r.editVisible=!1)},{default:s((()=>[j])),_:1}),o(m,{type:"primary",onClick:r.saveEdit},{default:s((()=>[z])),_:1},8,["onClick"])])])),default:s((()=>[o(S,{"label-width":"70px"},{default:s((()=>[o(T,{label:"用户名"},{default:s((()=>[o(D,{modelValue:r.form.name,"onUpdate:modelValue":a[0]||(a[0]=e=>r.form.name=e)},null,8,["modelValue"])])),_:1}),o(T,{label:"地址"},{default:s((()=>[o(D,{modelValue:r.form.address,"onUpdate:modelValue":a[1]||(a[1]=e=>r.form.address=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}],["__scopeId","data-v-15e80d5c"]]);export{I as default};
