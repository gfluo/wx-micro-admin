import{D as e,B as l,b as a,G as d,r as o,o as t,e as i,f as n,g as u,w as r,F as s,l as m,c as f,i as p,t as c,H as b,E as V,p as g,j as _}from"./vendor.f738b94f.js";import{W as k}from"./wangEditor.b96b6a7e.js";import"./request.5429afbb.js";import{_ as v}from"./index.33e93acf.js";const D={name:"productAdd",setup(){const o=e(null),t=e(null),i=e(""),n=e(!1),u=l({title:"",address:"",region:"",beginDate:"",beginDateTime:"",endDate:"",endDateTime:"",amount:0,describe:"",cover:"",link:[]});let r;a((()=>{r=new k(o.value),r.config.zIndex=1,r.create()})),d((()=>{r.destroy(),r=null}));return{addVaule:i,addVisible:n,showAddLink:()=>{n.value=!0},addLinkConfirm:()=>{u.link.push(i.value),i.value="",n.value=!1},addLinkColse:e=>{u.link.splice(u.link.indexOf(e),1)},editor:o,rules:{title:[{required:!0,message:"请输入活动名称",trigger:"blur"}],address:[{required:!0,message:"请输入活动地址",trigger:"blur"}],beginDate:[{required:!0,message:"请输入开始时间",trigger:"blur"}],endDate:[{required:!0,message:"请输入结束时间",trigger:"blur"}]},formRef:t,form:u,onSubmit:()=>{u.describe=r.txt.html(),t.value.validate((e=>{if(!e)return!1;console.log(u),V.success("提交成功！")}))},onReset:()=>{t.value.resetFields()}}}},h={class:"crumbs"},y=(e=>(g("data-v-ec68d990"),e=e(),_(),e))((()=>n("i",{class:"el-icon-lx-calendar"},null,-1))),w=p(" 活动 "),C=p("新增"),z={class:"container"},U={class:"form-box"},x=p("+ 新增活动环节"),T=p("-"),L=p("-"),j={class:"mgb20",ref:"editor"},q=p("保存"),R=p("重置");var A=v(D,[["render",function(e,l,a,d,V,g){const _=o("el-breadcrumb-item"),k=o("el-breadcrumb"),v=o("el-input"),D=o("el-form-item"),A=o("el-input-number"),E=o("el-tag"),F=o("el-button"),I=o("el-date-picker"),K=o("el-col"),S=o("el-time-picker"),B=o("el-form");return t(),i("div",null,[n("div",h,[u(k,{separator:"/"},{default:r((()=>[u(_,null,{default:r((()=>[y,w])),_:1}),u(_,null,{default:r((()=>[C])),_:1})])),_:1})]),n("div",z,[n("div",U,[u(B,{ref:"formRef",rules:d.rules,model:d.form,"label-width":"80px"},{default:r((()=>[u(D,{label:"活动名称",prop:"title"},{default:r((()=>[u(v,{size:"mini",modelValue:d.form.title,"onUpdate:modelValue":l[0]||(l[0]=e=>d.form.title=e)},null,8,["modelValue"])])),_:1}),u(D,{label:"活动地址",prop:"address"},{default:r((()=>[u(v,{size:"mini",modelValue:d.form.address,"onUpdate:modelValue":l[1]||(l[1]=e=>d.form.address=e)},null,8,["modelValue"])])),_:1}),u(D,{label:"活动封面",prop:"cover"},{default:r((()=>[u(v,{size:"mini",modelValue:d.form.cover,"onUpdate:modelValue":l[2]||(l[2]=e=>d.form.cover=e),placeholder:"请输入封面图片网络地址"},null,8,["modelValue"])])),_:1}),u(D,{label:"费用(元)",prop:"amount"},{default:r((()=>[u(A,{size:"mini",modelValue:d.form.amount,"onUpdate:modelValue":l[3]||(l[3]=e=>d.form.amount=e),min:1},null,8,["modelValue"])])),_:1}),u(D,{label:"活动环节",prop:"link"},{default:r((()=>[(t(!0),i(s,null,m(d.form.link,(e=>(t(),f(E,{key:e,closable:"","disable-transitions":!1,onClose:l=>d.addLinkColse(e)},{default:r((()=>[p(c(e),1)])),_:2},1032,["onClose"])))),128)),d.addVisible?(t(),f(v,{key:0,modelValue:d.addVaule,"onUpdate:modelValue":l[4]||(l[4]=e=>d.addVaule=e),class:"input-new-tag",size:"mini",onKeyup:b(d.addLinkConfirm,["enter"])},null,8,["modelValue","onKeyup"])):(t(),f(F,{key:1,class:"button-new-tag",size:"small",onClick:d.showAddLink},{default:r((()=>[x])),_:1},8,["onClick"]))])),_:1}),u(D,{label:"开始时间"},{default:r((()=>[u(K,{span:11},{default:r((()=>[u(D,{prop:"beginDate"},{default:r((()=>[u(I,{size:"mini",type:"date",placeholder:"选择日期",modelValue:d.form.beginDate,"onUpdate:modelValue":l[5]||(l[5]=e=>d.form.beginDate=e),style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),u(K,{class:"line",span:2},{default:r((()=>[T])),_:1}),u(K,{span:11},{default:r((()=>[u(D,{prop:"beginDateTime"},{default:r((()=>[u(S,{size:"mini",placeholder:"选择时间",modelValue:d.form.beginDateTime,"onUpdate:modelValue":l[6]||(l[6]=e=>d.form.beginDateTime=e),style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),u(D,{label:"结束时间"},{default:r((()=>[u(K,{span:11},{default:r((()=>[u(D,{prop:"endDate"},{default:r((()=>[u(I,{size:"mini",type:"date",placeholder:"选择日期",modelValue:d.form.endDate,"onUpdate:modelValue":l[7]||(l[7]=e=>d.form.endDate=e),style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),u(K,{class:"line",span:2},{default:r((()=>[L])),_:1}),u(K,{span:11},{default:r((()=>[u(D,{prop:"endDateTime"},{default:r((()=>[u(S,{size:"mini",placeholder:"选择时间",modelValue:d.form.endDateTime,"onUpdate:modelValue":l[8]||(l[8]=e=>d.form.endDateTime=e),style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),u(D,{label:"活动描述"},{default:r((()=>[n("div",j,null,512)])),_:1}),u(D,null,{default:r((()=>[u(F,{type:"primary",onClick:d.onSubmit},{default:r((()=>[q])),_:1},8,["onClick"]),u(F,{onClick:d.onReset},{default:r((()=>[R])),_:1},8,["onClick"])])),_:1})])),_:1},8,["rules","model"])])])])}],["__scopeId","data-v-ec68d990"]]);export{A as default};
