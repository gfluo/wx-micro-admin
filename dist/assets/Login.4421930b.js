import{d as e,z as a,B as s,u as r,r as o,o as l,e as t,f as n,g as m,w as d,I as u,i as p,C as i}from"./vendor.a6d9e6a0.js";import{s as c}from"./index.7d0f2d56.js";import{_ as f}from"./index.681bbf8e.js";const g={class:"login-wrap"},w={class:"ms-login"},b={class:"login-btn"};var v=f({setup(){const o=e(),l=a({username:"admin",password:""}),t=s(null);return r().commit("clearTags"),{param:l,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},login:t,submitForm:()=>{t.value.validate((e=>{if(!e)return i.error("登录失败"),!1;c({account:l.username,password:l.password}).then((e=>{0==e.errno?(i.success("登录成功"),localStorage.setItem("username",l.username),localStorage.setItem("token",e.data.token),o.push("/")):i.error(`${e.error}`)}))}))}}}},[["render",function(e,a,s,r,i,c){const f=o("el-button"),v=o("el-input"),_=o("el-form-item"),V=o("el-form");return l(),t("div",g,[n("div",w,[a[6]||(a[6]=n("div",{class:"ms-title"},"腾狮管理系统",-1)),m(V,{model:r.param,rules:r.rules,ref:"login","label-width":"0px",class:"ms-content"},{default:d((()=>[m(_,{prop:"username"},{default:d((()=>[m(v,{modelValue:r.param.username,"onUpdate:modelValue":a[0]||(a[0]=e=>r.param.username=e),placeholder:"username"},{prepend:d((()=>[m(f,{icon:"el-icon-user"})])),_:1},8,["modelValue"])])),_:1}),m(_,{prop:"password"},{default:d((()=>[m(v,{type:"password",placeholder:"password",modelValue:r.param.password,"onUpdate:modelValue":a[1]||(a[1]=e=>r.param.password=e),onKeyup:a[2]||(a[2]=u((e=>r.submitForm()),["enter"]))},{prepend:d((()=>[m(f,{icon:"el-icon-lock"})])),_:1},8,["modelValue"])])),_:1}),n("div",b,[m(f,{type:"primary",onClick:a[3]||(a[3]=e=>r.submitForm())},{default:d((()=>a[4]||(a[4]=[p("登录")]))),_:1})]),a[5]||(a[5]=n("p",{class:"login-tips"},"Tips : 用户名和密码随便填。",-1))])),_:1},8,["model","rules"])])])}],["__scopeId","data-v-065e49a7"]]);export{v as default};
