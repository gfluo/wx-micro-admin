import{B as e,D as a,r as l,o as t,e as d,f as n,g as o,w as r,L as i,E as s,p as u,j as c,i as p}from"./vendor.f738b94f.js";import{a as m}from"./index.6930ce48.js";import{_ as f}from"./index.79e61d1e.js";import"./request.ea17f461.js";const b={name:"userstable",setup(){const l=e({address:"",name:"",pageIndex:1,pageSize:10}),t=a([]),d=a(0),n=()=>{m({limit:l.pageSize,offset:l.pageSize*(l.pageIndex-1)}).then((e=>{t.value=e.data.orderList,d.value=e.data.total}))};n();const o=a(!1);let r=e({name:"",address:""}),u=-1;return{query:l,tableData:t,pageTotal:d,editVisible:o,form:r,handleSearch:()=>{l.pageIndex=1,n()},handlePageChange:e=>{l.pageIndex=e,n()},handleDelete:e=>{i.confirm("确定要删除吗？","提示",{type:"warning"}).then((()=>{s.success("删除成功"),t.value.splice(e,1)})).catch((()=>{}))},handleEdit:(e,a)=>{u=e,Object.keys(r).forEach((e=>{r[e]=a[e]})),o.value=!0},saveEdit:()=>{o.value=!1,s.success(`修改第 ${u+1} 行成功`),Object.keys(r).forEach((e=>{t.value[u][e]=r[e]}))}}}},g={class:"crumbs"},h=(e=>(u("data-v-df203b2e"),e=e(),c(),e))((()=>n("i",{class:"el-icon-lx-cascades"},null,-1))),v=p(" 订单列表 "),x={class:"container"},_=p("编辑 "),C=p("删除"),V={class:"pagination"},y={class:"dialog-footer"},k=p("取 消"),I=p("确 定");var j=f(b,[["render",function(e,a,i,s,u,c){const p=l("el-breadcrumb-item"),m=l("el-breadcrumb"),f=l("el-table-column"),b=l("el-button"),j=l("el-table"),w=l("el-pagination"),E=l("el-input"),z=l("el-form-item"),D=l("el-form"),S=l("el-dialog");return t(),d("div",null,[n("div",g,[o(m,{separator:"/"},{default:r((()=>[o(p,null,{default:r((()=>[h,v])),_:1})])),_:1})]),n("div",x,[o(j,{data:s.tableData,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:r((()=>[o(f,{prop:"id",label:"id",align:"center"}),o(f,{prop:"tradeId",label:"订单号"}),o(f,{prop:"openId",label:"参加用户"}),o(f,{prop:"orderAmount",label:"订单金额(元)"}),o(f,{prop:"title",label:"活动标题"}),o(f,{prop:"createdAt",label:"创建时间"}),o(f,{label:"操作",width:"180",align:"center"},{default:r((e=>[o(b,{type:"text",icon:"el-icon-edit",disabled:"",onClick:a=>s.handleEdit(e.$index,e.row)},{default:r((()=>[_])),_:2},1032,["onClick"]),o(b,{type:"text",icon:"el-icon-delete",class:"red",disabled:"",onClick:a=>s.handleDelete(e.$index,e.row)},{default:r((()=>[C])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),n("div",V,[o(w,{background:"",layout:"total, prev, pager, next","current-page":s.query.pageIndex,"page-size":s.query.pageSize,total:s.pageTotal,onCurrentChange:s.handlePageChange},null,8,["current-page","page-size","total","onCurrentChange"])])]),o(S,{title:"编辑",modelValue:s.editVisible,"onUpdate:modelValue":a[3]||(a[3]=e=>s.editVisible=e),width:"30%"},{footer:r((()=>[n("span",y,[o(b,{onClick:a[2]||(a[2]=e=>s.editVisible=!1)},{default:r((()=>[k])),_:1}),o(b,{type:"primary",onClick:s.saveEdit},{default:r((()=>[I])),_:1},8,["onClick"])])])),default:r((()=>[o(D,{"label-width":"70px"},{default:r((()=>[o(z,{label:"用户名"},{default:r((()=>[o(E,{modelValue:s.form.name,"onUpdate:modelValue":a[0]||(a[0]=e=>s.form.name=e)},null,8,["modelValue"])])),_:1}),o(z,{label:"地址"},{default:r((()=>[o(E,{modelValue:s.form.address,"onUpdate:modelValue":a[1]||(a[1]=e=>s.form.address=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}],["__scopeId","data-v-df203b2e"]]);export{j as default};
